# Минимально необходимая команда
Чтобы запустить наш код первоначально нужно создать виртуальную машину
```
mach create
```
Либо чтобы задать название ВМ нужно прописать 
```
mach add "*любое название*"
```
Если ввести эту команду еще раз но с другим названием то мы получим две виртуальные машины.

Чтобы между ними переключаться нужно прописать 
```
mach set "*Либо название ВМ либо ее номер*"
```
Номер ВМ можно узнать если просто прописать 
```
mach
```
и сразу после этой команды будут идти порядковый номер ВМ и ее название 

После чего нежно указать ВМ настройки:
```
machine LoadPlatformDescription @*Путь до .repl файла*
```
repl файл (REnode PLatform) формат созданный для полного описания периферии платформы (очень похож на YAML)

Можно использовать уже созданные repl файлы можно самим написать repl.

После чего необходимо загрузить наш код на ВМ
```
sysbus LoadBinary @*путь до .bin файла*
```
так же можно загрузить .elf файл
```
sysbus LoadELF @*путь до .elf файла*
```
После чего нужно просто прописать 
```
start
```

## Скрипт для автостарта ВМ 
Все команды можно прописать в resc файле после чего вызвать его и вся ВМ автоматически соберется 


# Логирование

Все файлы можно выдать в формате XML который является пригодным для машиной обработки так и HTML что является более пригодным для человеческого анализа.

Нужно добавить до файла в котором будут храниться логи:
```
logFile @*путь до файла *
```

Уровни логов:
- NOISY (-1),
- DEBUG (0),
- INFO (1),
- WARNING (2),
- ERROR (3).

Сначала выдаем разрешение для логирования периферии :
```
sysbus LogPeripheralAccess sysbus.uart
```
После чего можем выставить уровень для данной периферии:
```
logLevel -1 sysbus.uart
```
 Можно включить логирование для вей периферии:
 ```
 sysbus LogAllPeripheralsAccess true
```

#  Общение между двумя ВМ по  UART

Перед созданием виртуальных машин необходимо с эмулировать туннель по которому они буду общаться .
```
 emulation CreateUARTHub "*любое название*"
```
После чего необходимо выполнить либо скрипт который настроит среду ВМ либо прописать все из пункта **Минимально необходимая команда**.
После чего нужно подключить UART к нашему туннелю
```
connector Connect sysbus.usart1 *название туннеля*
```
Точно такое же нужно прописать во второй ВМ.
Все теперь две ВМ могут обмениваться данными по UART

