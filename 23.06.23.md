Произвел сборку и отладку проекта, вся суть заключается в том что нужно было собирать все файлы в объектные и потом уже это все уже линковать.
Все необходимые файлы можно подключить двумя способами.
## 1 SET
В функцию сет можно передать несколько путей до разных фалов
```
set(VAR_SRC PATH/src/main.c PATH/src/buf.c)
set(VER_INC PATH/inc/main.h PATH/inc/buf.h)
```
## 2 file
В команду файл можно передать директорию в которой находятся необходимые файл
```
file(GLOB VAR_SRC PATH/src/*.c) # Взять все файлы .c из директории
file(GLOB VAR_INC PATH/inc/*.h) # Взять все файлы .h из директории
```


## Для сборки всех файлов в объектный 
add_executable(${TARGET_NAME} ${INCLUDE} ${SOURCE} ${INCLUDE_2} ${SOURCE_2} . . .)



## Toolchain.cmake

Это файл в котором должна происходить все настройка компилятора и линкера.
Все ключи для компилятора и линкера тоже прописываются там.

Для того что бы подключить этот файла нужно в переменную CMAKE записать путь до файла
```
set(CMAKE_TOOLCHAIN_FILE PAHT/toolchain.cmake)
```


## Настройка линтера VS code
Для это нужно либо открыть либо создать файл *c_cpp_properties.json* 
В нем уже можно прописать какой компилятор используется, и пути до директорий в которых лежат необходимые файлы, и прописал ключи препроцессора так же можно выбрать версию стандарта языка 




---
# LINKS
[Настройка VS code](https://zenembed.com/vscode-cubemx)
[cmake file](https://cmake.org/cmake/help/latest/command/file.html)

